CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
INCLUDE($ENV{DEPOT}/config/Tvd.cmake)

# Model
SetIfEmpty( ZAPPER_OTA_MAKER_ID 0xD0 )
SetIfEmpty( ZAPPER_OTA_MODEL_ID 0x00 ) # 00 - Unassigned
IF(NOT DEFINED ZAPPER_OTA_VERSION OR "${ZAPPER_OTA_VERSION}" STREQUAL "")
	GET_GIT_REVISION( ZAPPER_TAG_VERSION ZAPPER_BUILD_VERSION ZAPPER_GIT_HASH )
	math(EXPR ZAPPER_BUILD_TMP "${ZAPPER_BUILD_VERSION} % 65535" )
	SetIfEmpty( ZAPPER_OTA_VERSION ${ZAPPER_BUILD_TMP} )
ENDIF()

# MPEG player to use
SetIfEmpty( ZAPPER_MPEG_PLAYER \"av\" )

# Time source to use
SetIfEmpty( ZAPPER_TIME_SOURCE \"ts\" )

# Shutdown
SetIfEmpty( ZAPPER_CAN_SHUTDOWN 1 )

# Resources
SetIfEmpty( ZAPPER_RESOURCES_MEMORY_BLOCKS   1000 )
SetIfEmpty( ZAPPER_RESOURCES_MAX_MODULES     1000 )
SetIfEmpty( ZAPPER_RESOURCES_MAX_MODULE_SIZE "(100*1024*1024)" )

# Platform file
SetIfEmpty( PLATFORM_VERSION_FILE \"/etc/platform.version\" )

Add_Lib (
	PROJECT_NAME "zapper"
	PROJECT_DESCRIPTION "This is zapper core library."
	PROJECT_TESTS "test"
)

